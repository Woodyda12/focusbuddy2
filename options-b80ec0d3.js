import{d as v,r as l,o as b,b as d,e as m,f as e,w as a,v as u,l as g,n as f,t as k,h as D,j as x,k as y}from"./windi-66493aaf.js";const S={class:"options-container p-6 max-w-lg mx-auto bg-gray-800 text-white rounded-lg shadow-xl mt-10"},B={class:"setting-section mb-8"},M={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},w={class:"setting-section mb-8"},h={class:"space-y-3"},E={class:"flex items-center justify-between p-3 bg-gray-700 rounded-md"},V={class:"switch"},C={class:"flex items-center justify-between p-3 bg-gray-700 rounded-md"},F={class:"switch"},N={class:"text-center mt-10"},U=v({__name:"Options",setup(T){const o=l({pomodoroDurationMinutes:25,shortBreakDurationMinutes:5,longBreakDurationMinutes:15,notificationsDesktop:!0,notificationsSound:!0}),i=l(""),r=l(!1);async function p(){try{const s=await chrome.runtime.sendMessage({command:"getTimerState"});if(s&&s.success&&s.timerState&&s.timerState.settings){const t=s.timerState.settings;o.value={pomodoroDurationMinutes:t.pomodoroDuration/60,shortBreakDurationMinutes:t.shortBreakDuration/60,longBreakDurationMinutes:t.longBreakDuration/60,notificationsDesktop:t.notificationsDesktop,notificationsSound:t.notificationsSound},console.log("Settings loaded:",o.value)}else console.warn("Failed to load settings from service worker or no settings found, using defaults.")}catch(s){console.error("Error loading settings:",s)}}async function c(){try{const s={pomodoroDuration:o.value.pomodoroDurationMinutes*60,shortBreakDuration:o.value.shortBreakDurationMinutes*60,longBreakDuration:o.value.longBreakDurationMinutes*60,notificationsDesktop:o.value.notificationsDesktop,notificationsSound:o.value.notificationsSound},t=await chrome.runtime.sendMessage({command:"updateSettings",newSettings:s});t&&t.success?(i.value="Settings saved successfully!",r.value=!1,console.log("Settings saved and sent to service worker.",s)):(i.value="Failed to save settings. "+((t==null?void 0:t.message)||""),r.value=!0,console.error("Failed to save settings:",t==null?void 0:t.message))}catch(s){i.value="Error saving settings: "+s.message,r.value=!0,console.error("Error saving settings:",s)}setTimeout(()=>i.value="",3e3)}return b(()=>{p()}),(s,t)=>(d(),m("div",S,[t[14]||(t[14]=e("h1",{class:"text-3xl font-bold text-center mb-8"},"FocusBuddy Settings",-1)),e("div",B,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2"},"Timer Durations (minutes)",-1)),e("div",M,[e("div",null,[t[5]||(t[5]=e("label",{for:"pomodoroDuration",class:"block text-sm font-medium text-gray-300 mb-1"},"Pomodoro",-1)),a(e("input",{type:"number",id:"pomodoroDuration","onUpdate:modelValue":t[0]||(t[0]=n=>o.value.pomodoroDurationMinutes=n),min:"1",class:"form-input"},null,512),[[u,o.value.pomodoroDurationMinutes,void 0,{number:!0}]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"shortBreakDuration",class:"block text-sm font-medium text-gray-300 mb-1"},"Short Break",-1)),a(e("input",{type:"number",id:"shortBreakDuration","onUpdate:modelValue":t[1]||(t[1]=n=>o.value.shortBreakDurationMinutes=n),min:"1",class:"form-input"},null,512),[[u,o.value.shortBreakDurationMinutes,void 0,{number:!0}]])]),e("div",null,[t[7]||(t[7]=e("label",{for:"longBreakDuration",class:"block text-sm font-medium text-gray-300 mb-1"},"Long Break",-1)),a(e("input",{type:"number",id:"longBreakDuration","onUpdate:modelValue":t[2]||(t[2]=n=>o.value.longBreakDurationMinutes=n),min:"1",class:"form-input"},null,512),[[u,o.value.longBreakDurationMinutes,void 0,{number:!0}]])])])]),e("div",w,[t[13]||(t[13]=e("h2",{class:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2"},"Notifications",-1)),e("div",h,[e("div",E,[t[10]||(t[10]=e("span",{class:"text-sm font-medium text-gray-200"},"Enable Desktop Notifications",-1)),e("label",V,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=n=>o.value.notificationsDesktop=n)},null,512),[[g,o.value.notificationsDesktop]]),t[9]||(t[9]=e("span",{class:"slider round"},null,-1))])]),e("div",C,[t[12]||(t[12]=e("span",{class:"text-sm font-medium text-gray-200"},"Enable Sound Notifications (Future)",-1)),e("label",F,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=n=>o.value.notificationsSound=n),disabled:""},null,512),[[g,o.value.notificationsSound]]),t[11]||(t[11]=e("span",{class:"slider round disabled-slider"},null,-1))])])])]),e("div",N,[e("button",{onClick:c,class:"save-button bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-md transition duration-150 ease-in-out"}," Save Settings "),i.value?(d(),m("p",{key:0,class:f(["mt-3 text-sm",r.value?"text-red-400":"text-green-400"])},k(i.value),3)):D("",!0)])]))}});const _=x(U);_.use(y).mount("#app");
